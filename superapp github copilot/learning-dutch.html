<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-lang-ar="تعلم اللغة الهولندية" data-lang-en="Learning Dutch">Learning Dutch</title>
    <meta name="description" content="اكتشف موارد وأدوات مفيدة لتعلم اللغة الهولندية، بما في ذلك مواقع، تطبيقات، وقنوات يوتيوب لمساعدتك في رحلتك التعليمية.">
    <style>
        /* Default Light Mode Styles */
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            color: #333;
            margin: 0;
            /* padding: 0; */ /* Removed */
            /* display: flex; */ /* Removed */
            /* justify-content: center; */
            /* align-items: flex-start; */
            min-height: 100vh;
            position: relative; /* Needed for menu */
            padding-top: 60px; /* Space for menu */
            transition: background-color 0.3s, color 0.3s;
        }

        /* --- START NAVIGATION SIDEBAR STYLES --- */
        .menu-icon {
            position: absolute; top: 15px; left: 15px; width: 30px; height: 22px;
            cursor: pointer; z-index: 1001; display: flex; flex-direction: column;
            justify-content: space-between;
        }
        .menu-icon span { display: block; height: 3px; width: 100%; background-color: #333; border-radius: 3px; transition: background-color 0.3s; }
        #sidebar {
            position: fixed; top: 0; left: -250px; width: 250px; height: 100%;
            background-color: #fff; color: #333; box-shadow: 2px 0 5px rgba(0,0,0,0.2);
            padding-top: 60px; transition: left 0.3s ease-in-out, background-color 0.3s, color 0.3s;
            z-index: 1000; display: flex; flex-direction: column;
        }
        #sidebar.open { left: 0; }
        #sidebar ul { list-style: none; padding: 0; margin: 0; }
        #sidebar li a { display: block; padding: 15px 20px; color: #333; text-decoration: none; border-bottom: 1px solid #eee; font-weight: bold; }
        #sidebar li a:hover { background-color: #f4f4f4; }
         /* RTL adjustments for sidebar */
         [dir="rtl"] .menu-icon { left: auto; right: 15px; }
         [dir="rtl"] #sidebar { left: auto; right: -250px; box-shadow: -2px 0 5px rgba(0,0,0,0.2); }
         [dir="rtl"] #sidebar.open { left: auto; right: 0; }
         [dir="rtl"] #sidebar li a { text-align: right; }
        /* --- END NAVIGATION SIDEBAR STYLES --- */

        .container {
            width: 80%;
            max-width: 800px;
            background-color: #fff;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            margin: 0 auto 20px auto; /* Centered */
            transition: background-color 0.3s, color 0.3s;
        }

        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 20px;
            transition: color 0.3s;
        }

        .links {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            padding: 20px 0;
        }

        .link-item {
            background-color: #f9f9f9;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
            text-align: center;
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: background-color 0.3s, box-shadow 0.3s;
            text-decoration: none;
            color: inherit;
        }
        
        .link-item:hover {
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
            text-decoration: none;
        }

        body.dark-mode .link-item:hover {
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.2);
        }

        .link-item-header {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 5px;
            width: 100%;
        }

        .link-item-header a {
            /* margin-right: 10px; */ /* LTR/RTL */
            text-decoration: none;
            color: #007bff;
            font-weight: bold;
            transition: color 0.3s;
        }
        [dir="ltr"] .link-item-header a { margin-right: 10px; }
        [dir="rtl"] .link-item-header a { margin-left: 10px; }

        .link-item-header a:hover {
            color: #0056b3;
            text-decoration: underline;
        }

        .heart-icon {
            cursor: pointer;
            font-size: 2.5em;
            color: #ccc;
            transition: color 0.2s ease-in-out;
            line-height: 1;
            /* margin-left/right will be handled by LTR/RTL rules below */
        }
        [dir="ltr"] .heart-icon { margin-left: 10px; }
        [dir="rtl"] .heart-icon { margin-right: 10px; }

        .heart-icon.favorited {
            color: red;
        }

        .link-item > span {
            display: block;
            font-size: 0.9em;
            color: #555;
            margin-top: 5px;
            width: 100%;
            transition: color 0.3s;
        }

        a {
            text-decoration: none;
            color: #007bff;
            font-weight: bold;
            transition: color 0.3s;
        }

        a:hover {
            color: #0056b3;
            text-decoration: underline;
        }

        .lang-switcher {
            text-align: center;
            margin-bottom: 20px;
        }
        .lang-switcher button, .theme-toggle-button-main {
            padding: 8px 15px;
            margin: 0 5px;
            cursor: pointer;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
            border-radius: 4px;
            transition: background-color 0.3s, color 0.3s, border-color 0.3s;
        }
        .lang-switcher button:hover, .theme-toggle-button-main:hover {
            background-color: #eee;
        }

        /* --- START DARK MODE --- */
        body.dark-mode {
            background-color: #1a1a1a;
            color: #f1f1f1;
        }
         /* Dark mode for Navigation */
         body.dark-mode .menu-icon span { background-color: #f1f1f1; }
         body.dark-mode #sidebar { background-color: #2c2c2c; color: #f1f1f1; box-shadow: 2px 0 5px rgba(255,255,255,0.1); }
         [dir="rtl"] body.dark-mode #sidebar { box-shadow: -2px 0 5px rgba(255,255,255,0.1); }
         body.dark-mode #sidebar li a { color: #f1f1f1; border-bottom: 1px solid #444; }
         body.dark-mode #sidebar li a:hover { background-color: #444; }

        body.dark-mode .container {
            background-color: #2c2c2c;
            color: #f1f1f1;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.1);
        }
        body.dark-mode h1 {
            color: #f1f1f1;
        }
        body.dark-mode .link-item {
            background-color: #3a3a3a;
            box-shadow: 0 0 5px rgba(255, 255, 255, 0.1);
        }
        body.dark-mode a {
            color: #5cadff;
        }
         body.dark-mode a:hover {
            color: #8ecaff;
        }
        body.dark-mode .link-item > span {
            color: #ccc;
        }
        body.dark-mode .lang-switcher button, body.dark-mode .theme-toggle-button-main {
             background-color: #555;
             color: #f1f1f1;
             border: 1px solid #777;
        }
        body.dark-mode .lang-switcher button:hover, body.dark-mode .theme-toggle-button-main:hover {
             background-color: #666;
        }
         /* --- END DARK MODE --- */
    </style>
</head>
<body>
    <!-- Navigation Sidebar -->
    <div class="menu-icon" id="menu-icon">
        <span></span>
        <span></span>
        <span></span>
    </div>
    <div id="sidebar">
        <ul>
            <li><a href="index.html" data-lang-ar="الرئيسية" data-lang-en="Home">Home</a></li>
            <li><a href="favorites.html" data-lang-ar="المفضلات" data-lang-en="Favorites">Favorites</a></li>
            <!-- Add other common links here -->
        </ul>
    </div>

    <div class="container">
        <div class="lang-switcher">
            <button id="lang-ar">العربية</button>
            <button id="lang-en">English</button>
            <button class="theme-toggle-button-main" id="theme-toggle" data-lang-ar="تبديل الوضع" data-lang-en="Toggle Theme">Toggle Theme</button>
        </div>
        <h1 data-lang-ar="تعلم اللغة الهولندية" data-lang-en="Learning Dutch">Learning Dutch</h1>
        <div class="links">
            <a href="https://nt2taalmenu.nl/" target="_blank" class="link-item" data-id="nt2taalmenu">
                <div class="link-item-header">
                    <span data-lang-ar="NT2 Taalmenu" data-lang-en="NT2 Taalmenu">NT2 Taalmenu</span>
                    <span class="heart-icon">♡</span>
                </div>
                <span data-lang-ar="موقع شامل لتعلم اللغة الهولندية بمستويات مختلفة." data-lang-en="Comprehensive site for learning Dutch at different levels."></span>
            </a>

            <a href="https://www.oefenen.nl/" target="_blank" class="link-item" data-id="oefenen">
                <div class="link-item-header">
                    <span data-lang-ar="Oefenen.nl" data-lang-en="Oefenen.nl">Oefenen.nl</span>
                    <span class="heart-icon">♡</span>
                </div>
                <span data-lang-ar="موقع لممارسة مهارات اللغة والقراءة والكتابة." data-lang-en="Site for practicing language, reading, and writing skills."></span>
            </a>
            <div class="link-item" data-id="taalhuis-rotterdam">
                <div class="link-item-header">
                    <a href="https://www.donadaria.nl/bibliotheek-helpt-bij-digitaal-contact-met-de-overheid-2/" target="_blank" data-lang-ar="Taalhuis Rotterdam" data-lang-en="Taalhuis Rotterdam">Taalhuis Rotterdam</a>
                    <span class="heart-icon">♡</span>
                </div>
                <span data-lang-ar="بيت اللغة في روتردام يقدم الدعم في تعلم اللغة وممارسة المحادثة." data-lang-en="The language house in Rotterdam offers support in language learning and conversation practice."></span>
            </div>
            <div class="link-item" data-id="topcast-podcast">
                <div class="link-item-header">
                    <a href="https://open.spotify.com/show/1PjN9zB7v1o0o87q4qD5n7" target="_blank" data-lang-ar="TOPCAST Podcast" data-lang-en="TOPCAST Podcast">TOPCAST Podcast</a>
                    <span class="heart-icon">♡</span>
                </div>
                <span data-lang-ar="بودكاست لتعلم اللغة الهولندية، يركز على المحادثات اليومية والثقافة الهولندية." data-lang-en="Podcast for learning Dutch, focusing on daily conversations and Dutch culture."></span>
            </div>
            <div class="link-item" data-id="youtube-channels">
                <div class="link-item-header">
                    <a href="youtube-channels.html" data-lang-ar="قنوات يوتيوب لتعلم اللغة الهولندية" data-lang-en="YouTube Channels for Learning Dutch">YouTube Channels for Learning Dutch</a>
                    <span class="heart-icon">♡</span>
                </div>
                <img src="imags/youtube.png" alt="أيقونة يوتيوب لقنوات تعلم اللغة الهولندية" style="width: 100%; max-width: 150px; height: auto; margin-top: 10px; margin-bottom: 10px;"> 
                <span data-lang-ar="قنوات يوتيوب موصى بها لممارسة وتحسين لغتك الهولندية." data-lang-en="Recommended YouTube channels to practice and improve your Dutch language skills.">Recommended YouTube channels to practice and improve your Dutch language skills.</span>
            </div>
            <div class="link-item" data-id="grammatica-nt2-docenten">
                 <div class="link-item-header">
                     <a href="https://grammaticavoornt2docenten.nl/" target="_blank" data-lang-ar="Grammatica voor NT2 Docenten" data-lang-en="Grammar for NT2 Teachers">Grammatica voor NT2 Docenten</a>
                     <span class="heart-icon">♡</span>
                 </div>
                 <span data-lang-ar="​هذا الموقع يقدم موارد تعليمية متخصصة لمدرّسي اللغة الهولندية كلغة ثانية (NT2)، بما في ذلك دورات إلكترونية وورش عمل حول قواعد اللغة وأساليب تدريسها. كما يوفر نصائح دراسية وأدوات تعليمية لدعم المعلمين في تحسين مهارات الطلاب في الكتابة والتواصل.​" data-lang-en="This site offers specialized educational resources for teachers of Dutch as a second language (NT2), including e-courses and workshops on grammar and teaching methods. It also provides study tips and educational tools to support teachers in improving students' writing and communication skills."></span>
             </div>
        </div>
    </div>
    <script>
        const translatableElementsStatic = Array.from(document.querySelectorAll('[data-lang-ar]'));
        const btnAr = document.getElementById('lang-ar');
        const btnEn = document.getElementById('lang-en');
        const themeToggleButton = document.getElementById('theme-toggle');
        const titleElement = document.querySelector('title');
        let currentLang = document.documentElement.lang || 'ar';

        const translations = {
            "Learning Dutch": { ar: "تعلم اللغة الهولندية", en: "Learning Dutch" },
            "NT2 Taalmenu": { ar: "NT2 Taalmenu", en: "NT2 Taalmenu" },
            "Comprehensive site for learning Dutch...": { ar: "موقع شامل لتعلم اللغة الهولندية بمستويات مختلفة.", en: "Comprehensive site for learning Dutch at different levels." },
            "Oefenen.nl": { ar: "Oefenen.nl", en: "Oefenen.nl" },
            "Site for practicing language...": { ar: "موقع لممارسة مهارات اللغة والقراءة والكتابة.", en: "Site for practicing language, reading, and writing skills." },
            "Toggle Theme": { ar: "تبديل الوضع", en: "Toggle Theme"},
            "Taalhuis Rotterdam": {ar: "بيت اللغة في روتردام", en: "Taalhuis Rotterdam"},
            "The language house in Rotterdam...": {ar: "بيت اللغة في روتردام يقدم الدعم في تعلم اللغة وممارسة المحادثة.", en: "The language house in Rotterdam offers support in language learning and conversation practice."},
            "TOPCAST Podcast": {ar: "بودكاست توبكاست", en: "TOPCAST Podcast"},
            "Podcast for learning Dutch...": {ar: "بودكاست لتعلم اللغة الهولندية، يركز على المحادثات اليومية والثقافة الهولندية.", en: "Podcast for learning Dutch, focusing on daily conversations and Dutch culture."},
            "YouTube Channels for Language Learning": {ar: "قنوات يوتيوب لتعليم اللغة", en: "YouTube Channels for Language Learning"},
            "Page dedicated to useful YouTube channels...": {ar: "صفحة مخصصة لقنوات يوتيوب مفيدة لتعلم اللغة الهولندية.", en: "Page dedicated to useful YouTube channels for learning Dutch."},
            "Grammar for NT2 Teachers": {ar: "قواعد اللغة لمدرسي NT2", en: "Grammar for NT2 Teachers"},
            "This site offers specialized educational resources...": {ar: "​هذا الموقع يقدم موارد تعليمية متخصصة لمدرّسي اللغة الهولندية كلغة ثانية (NT2)، بما في ذلك دورات إلكترونية وورش عمل حول قواعد اللغة وأساليب تدريسها. كما يوفر نصائح دراسية وأدوات تعليمية لدعم المعلمين في تحسين مهارات الطلاب في الكتابة والتواصل.​", en: "This site offers specialized educational resources for teachers of Dutch as a second language (NT2), including e-courses and workshops on grammar and teaching methods. It also provides study tips and educational tools to support teachers in improving students' writing and communication skills."},
            "Home": { ar: "الرئيسية", en: "Home" },
            "Favorites": { ar: "المفضلات", en: "Favorites" }
        };

        function updateToggleButtonText() {
            if (btnAr) btnAr.textContent = "العربية";
            if (btnEn) btnEn.textContent = "English";
            const isDarkMode = document.body.classList.contains('dark-mode');
            const key = "Toggle Theme";
            let buttonText = translations[key] ? (translations[key][currentLang] || translations[key]['en']) : "Toggle Theme";
            if (themeToggleButton) themeToggleButton.textContent = buttonText;
        }

        function setLanguage(lang) {
            translatableElementsStatic.forEach(el => {
                if (el.id === 'theme-toggle' || el.closest('.lang-switcher')) return;
                const key = el.dataset.langEn || el.textContent;

                if (el.closest('.link-item')) {
                    updateLinkItemLanguage(el.closest('.link-item'), lang);
                } else {
                    if (translations[key] && translations[key][lang]) {
                        if (el.tagName.toLowerCase() === 'title') document.title = translations[key][lang];
                        else el.textContent = translations[key][lang];
                    } else if (lang === 'en' && key) {
                        if (el.tagName.toLowerCase() === 'title') document.title = key;
                        else el.textContent = key;
                    } else if (lang === 'ar' && el.dataset.langAr) {
                        if (el.tagName.toLowerCase() === 'title') document.title = el.dataset.langAr;
                        else el.textContent = el.dataset.langAr;
                    }
                }
            });

            // Translate sidebar links
            document.querySelectorAll('#sidebar a[data-lang-en]').forEach(el => {
                const key = el.dataset.langEn;
                if (translations[key] && translations[key][lang]) {
                    el.textContent = translations[key][lang];
                } else if (lang === 'en' && key) {
                    el.textContent = key;
                } else if (lang === 'ar' && el.dataset.langAr) {
                    el.textContent = el.dataset.langAr;
                }
            });

            currentLang = lang;
            initializeHearts();
            document.documentElement.lang = lang;
            document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
            localStorage.setItem('preferredLanguage', lang);
            updateToggleButtonText();
        }

        btnAr.addEventListener('click', () => setLanguage('ar'));
        btnEn.addEventListener('click', () => setLanguage('en'));

        const currentTheme = localStorage.getItem('theme');
        if (currentTheme === 'dark') {
            document.body.classList.add('dark-mode');
        }
        updateToggleButtonText();

        if (themeToggleButton) {
            themeToggleButton.addEventListener('click', () => {
                document.body.classList.toggle('dark-mode');
                let newTheme = document.body.classList.contains('dark-mode') ? 'dark' : 'light';
                localStorage.setItem('theme', newTheme);
                updateToggleButtonText();
            });
        }

        const favoritesKey = 'userFavorites';
        function getFavorites() {
            const f = localStorage.getItem(favoritesKey);
            return f ? JSON.parse(f) : [];
        }
        function saveFavorites(f) {
            localStorage.setItem(favoritesKey, JSON.stringify(f));
        }
        function toggleFavorite(id, data) {
            let f = getFavorites();
            const idx = f.findIndex(fav => fav.id === id);
            if (idx > -1) {
                f.splice(idx, 1);
            } else {
                if (data) f.push(data);
            }
            saveFavorites(f);
        }
        function updateLinkItemLanguage(item, lang) {
            const link = item.querySelector('a');
            const desc = item.querySelector(':scope > span:not(.heart-icon)');
            if (link) {
                const linkKey = link.dataset.langEn;
                 if(translations[linkKey] && translations[linkKey][lang]) link.textContent = translations[linkKey][lang];
                 else if (lang === 'en' && linkKey) link.textContent = linkKey;
                 else if (lang === 'ar' && link.dataset.langAr) link.textContent = link.dataset.langAr;
            }
            if (desc) {
                const descKey = desc.dataset.langEn;
                 if(translations[descKey] && translations[descKey][lang]) desc.textContent = translations[descKey][lang];
                 else if (lang === 'en' && descKey) desc.textContent = descKey;
                 else if (lang === 'ar' && desc.dataset.langAr) desc.textContent = desc.dataset.langAr;
                 else desc.textContent = '';
            }
        }

        document.querySelectorAll('.heart-icon').forEach(icon => {
            icon.addEventListener('click', (event) => {
                event.stopPropagation();
                const linkItem = icon.closest('.link-item');
                const header = icon.closest('.link-item-header');
                const link = header?.querySelector('a');
                const descriptionSpan = linkItem?.querySelector(':scope > span:not(.heart-icon)');
                const itemId = linkItem?.getAttribute('data-id');
                if (!linkItem || !link || !itemId) return;
                const isFavorited = icon.classList.toggle('favorited');
                icon.textContent = isFavorited ? '♥' : '♡';
                let itemData = isFavorited ? { id: itemId, href: link.getAttribute('href'), ar: link.getAttribute('data-lang-ar'), en: link.getAttribute('data-lang-en'), desc_ar: descriptionSpan?.getAttribute('data-lang-ar'), desc_en: descriptionSpan?.getAttribute('data-lang-en') } : null;
                toggleFavorite(itemId, itemData);
            });
        });

        function initializeHearts() {
            const favorites = getFavorites();
            const favoriteIds = favorites.map(fav => fav.id);
            document.querySelectorAll('.link-item').forEach(item => {
                const itemId = item.getAttribute('data-id');
                const heartIcon = item.querySelector('.heart-icon');
                if (heartIcon) {
                    if (favoriteIds.includes(itemId)) {
                        heartIcon.classList.add('favorited'); heartIcon.textContent = '♥';
                    } else {
                        heartIcon.classList.remove('favorited'); heartIcon.textContent = '♡';
                    }
                }
                updateLinkItemLanguage(item, currentLang);
            });
        }

        const preferredLanguage = localStorage.getItem('preferredLanguage');
        setLanguage(preferredLanguage || 'ar');

        // --- START Navigation Sidebar Logic --- //
        const menuIcon = document.getElementById('menu-icon');
        const sidebar = document.getElementById('sidebar');

        if(menuIcon && sidebar) {
            menuIcon.addEventListener('click', () => {
                sidebar.classList.toggle('open');
            });

            // Optional: Close sidebar when clicking outside of it
            document.addEventListener('click', (event) => {
                if (!sidebar.contains(event.target) && !menuIcon.contains(event.target) && sidebar.classList.contains('open')) {
                    sidebar.classList.remove('open');
                }
            });
        }
        // --- END Navigation Sidebar Logic --- //
    </script>
</body>
</html>