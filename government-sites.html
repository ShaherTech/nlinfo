<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-lang-ar="مواقع حكومية" data-lang-en="Government Sites">Government Sites</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
        }

        .container {
            width: 80%;
            max-width: 800px;
            background-color: #fff;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            margin-top: 20px;
        }

        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 20px;
        }

        .links {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            padding: 20px 0;
        }

        .link-item {
            background-color: #f9f9f9;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
            text-align: center;
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .link-item-header {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 5px;
            width: 100%;
        }

        .link-item-header a {
            margin-right: 10px;
            text-decoration: none;
            color: #007bff;
            font-weight: bold;
            transition: color 0.3s;
        }

        .link-item-header a:hover {
            color: #0056b3;
            text-decoration: underline;
        }

        .heart-icon {
            cursor: pointer;
            font-size: 1.5em;
            color: #ccc;
            transition: color 0.2s ease-in-out;
            line-height: 1;
        }

        .heart-icon.favorited {
            color: red;
        }

        .link-item > span {
            display: block;
            font-size: 0.9em;
            color: #555;
            margin-top: 5px;
            width: 100%;
        }

        a {
            text-decoration: none;
            color: #007bff;
            font-weight: bold;
            transition: color 0.3s;
        }

        a:hover {
            color: #0056b3;
            text-decoration: underline;
        }

        .lang-switcher {
            text-align: center;
            margin-bottom: 20px;
        }

        .lang-switcher button {
            padding: 5px 10px;
            margin: 0 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="lang-switcher">
            <button id="lang-ar">العربية</button>
            <button id="lang-en">English</button>
        </div>
        <h1 data-lang-ar="مواقع حكومية" data-lang-en="Government Sites">Government Sites</h1>
        <div class="links">
            <div class="link-item" data-id="belastingdienst">
                <div class="link-item-header">
                    <a href="https://www.belastingdienst.nl/wps/wcm/connect/nl/home/home" target="_blank" data-lang-ar="مصلحة الضرائب" data-lang-en="Tax Authorities">Belastingdienst</a>
                    <span class="heart-icon">♡</span>
                </div>
            </div>
            <div class="link-item" data-id="mijn-overheid">
                <div class="link-item-header">
                    <a href="https://mijn.overheid.nl/" target="_blank" data-lang-ar="Mijn Overheid" data-lang-en="Mijn Overheid">Mijn Overheid</a>
                    <span class="heart-icon">♡</span>
                </div>
                <span data-lang-ar="هذا الموقع يتيح للمواطنين في هولندا الوصول إلى معلومات حكومية هامة وإجراء المعاملات الحكومية الرقمية. يشمل ذلك مجالات مثل الضرائب، الرعاية الصحية، المعاشات، والوظائف. يمكن للمستخدمين إدارة حساباتهم الحكومية بأمان وسهولة عبر الموقع." data-lang-en="This site allows citizens in the Netherlands to access important government information and conduct digital government transactions. This includes areas such as taxes, healthcare, pensions, and jobs. Users can securely and easily manage their government accounts through the site."></span>
            </div>
            <div class="link-item" data-id="mijn-ind">
                <div class="link-item-header">
                    <a href="https://ind.nl/nl/mijn-ind" target="_blank" data-lang-ar="Mijn IND" data-lang-en="Mijn IND">Mijn IND</a>
                    <span class="heart-icon">♡</span>
                </div>
                <span data-lang-ar="هذا الموقع يتيح للمستخدمين متابعة وإدارة طلبات الإقامة والهجرة في هولندا، مثل تحديث البيانات الشخصية، تحميل المستندات، ومتابعة حالة الطلبات بشكل آمن وسهل." data-lang-en="This site allows users to track and manage residency and immigration applications in the Netherlands, such as updating personal data, uploading documents, and securely and easily monitoring application status."></span>
            </div>
        </div>
    </div>
    <script>
        const translatableElementsStatic = Array.from(document.querySelectorAll('[data-lang-ar]'));
        const btnAr = document.getElementById('lang-ar');
        const btnEn = document.getElementById('lang-en');
        const titleElement = document.querySelector('title');
        let currentLang = 'ar';

        function setLanguage(lang) {
            currentLang = lang;
            translatableElementsStatic.forEach(el => {
                if (!el.closest('.link-item')) {
                    const text = el.getAttribute(`data-lang-${lang}`);
                    if (text !== null) {
                        if (el.tagName.toLowerCase() === 'title') {
                            document.title = text;
                        } else {
                            el.textContent = text;
                        }
                    }
                }
            });
            initializeHearts();
            document.documentElement.lang = lang;
            document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
        }

        const favoritesKey = 'userFavorites';

        function getFavorites() {
            const favorites = localStorage.getItem(favoritesKey);
            return favorites ? JSON.parse(favorites) : [];
        }

        function saveFavorites(favorites) {
            localStorage.setItem(favoritesKey, JSON.stringify(favorites));
        }

        function toggleFavorite(itemId, itemData) {
            let favorites = getFavorites();
            const existingIndex = favorites.findIndex(fav => fav.id === itemId);

            if (existingIndex > -1) {
                favorites.splice(existingIndex, 1);
            } else {
                if(itemData) favorites.push(itemData);
            }
            saveFavorites(favorites);
        }

        function updateLinkItemLanguage(linkItem, lang) {
            const link = linkItem.querySelector('a');
            const descriptionSpan = linkItem.querySelector(':scope > span');
            if(link) {
                const text = link.getAttribute(`data-lang-${lang}`);
                if(text) link.textContent = text;
            }
            if(descriptionSpan) {
                const descText = descriptionSpan.getAttribute(`data-lang-${lang}`);
                descriptionSpan.textContent = descText !== null ? descText : '';
            }
        }

        document.querySelectorAll('.heart-icon').forEach(icon => {
            icon.addEventListener('click', (event) => {
                event.stopPropagation();
                const linkItem = icon.closest('.link-item');
                const header = icon.closest('.link-item-header');
                const link = header?.querySelector('a');
                const descriptionSpan = linkItem?.querySelector(':scope > span');
                const itemId = linkItem?.getAttribute('data-id');
                
                if (!linkItem || !link || !itemId) return;

                const isFavorited = icon.classList.toggle('favorited');
                icon.textContent = isFavorited ? '♥' : '♡';

                let itemData = null;
                if (isFavorited) {
                    itemData = {
                        id: itemId,
                        href: link.getAttribute('href'),
                        ar: link.getAttribute('data-lang-ar'),
                        en: link.getAttribute('data-lang-en'),
                        desc_ar: descriptionSpan?.getAttribute('data-lang-ar'),
                        desc_en: descriptionSpan?.getAttribute('data-lang-en')
                    };
                }

                toggleFavorite(itemId, itemData);
            });
        });

        function initializeHearts() {
            const favorites = getFavorites();
            const favoriteIds = favorites.map(fav => fav.id);

            document.querySelectorAll('.link-item').forEach(item => {
                updateLinkItemLanguage(item, currentLang);
                const itemId = item.getAttribute('data-id');
                const heartIcon = item.querySelector('.heart-icon');
                if (heartIcon) {
                    if (favoriteIds.includes(itemId)) {
                        heartIcon.classList.add('favorited');
                        heartIcon.textContent = '♥';
                    } else {
                        heartIcon.classList.remove('favorited');
                        heartIcon.textContent = '♡';
                    }
                }
            });
        }

        btnAr.addEventListener('click', () => setLanguage('ar'));
        btnEn.addEventListener('click', () => setLanguage('en'));

        setLanguage('ar');
    </script>
</body>
</html> 
