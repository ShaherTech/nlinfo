<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-lang-ar="مواقع حكومية" data-lang-en="Government Sites">Government Sites</title>
    <meta name="description" content="قائمة بأهم المواقع الحكومية الهولندية التي تحتاجها، بما في ذلك IND، الحكومة المركزية، Belastingdienst، DUO، والمزيد.">
    <style>
        /* Default Light Mode Styles */
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            color: #333;
            margin: 0;
            /* padding: 0; */ /* Removed */
            /* display: flex; */ /* Removed */
            /* justify-content: center; */
            /* align-items: flex-start; */
            min-height: 100vh;
            position: relative; /* Needed for menu */
            padding-top: 60px; /* Space for menu */
            transition: background-color 0.3s, color 0.3s;
        }

        /* --- START NAVIGATION SIDEBAR STYLES --- */
        .menu-icon {
            position: absolute; top: 15px; left: 15px; width: 30px; height: 22px;
            cursor: pointer; z-index: 1001; display: flex; flex-direction: column;
            justify-content: space-between;
        }
        .menu-icon span { display: block; height: 3px; width: 100%; background-color: #333; border-radius: 3px; transition: background-color 0.3s; }
        #sidebar {
            position: fixed; top: 0; left: -250px; width: 250px; height: 100%;
            background-color: #fff; color: #333; box-shadow: 2px 0 5px rgba(0,0,0,0.2);
            padding-top: 60px; transition: left 0.3s ease-in-out, background-color 0.3s, color 0.3s;
            z-index: 1000; display: flex; flex-direction: column;
        }
        #sidebar.open { left: 0; }
        #sidebar ul { list-style: none; padding: 0; margin: 0; }
        #sidebar li a { display: block; padding: 15px 20px; color: #333; text-decoration: none; border-bottom: 1px solid #eee; font-weight: bold; }
        #sidebar li a:hover { background-color: #f4f4f4; }
         /* RTL adjustments for sidebar */
         [dir="rtl"] .menu-icon { left: auto; right: 15px; }
         [dir="rtl"] #sidebar { left: auto; right: -250px; box-shadow: -2px 0 5px rgba(0,0,0,0.2); }
         [dir="rtl"] #sidebar.open { left: auto; right: 0; }
         [dir="rtl"] #sidebar li a { text-align: right; }
        /* --- END NAVIGATION SIDEBAR STYLES --- */

        .container {
            width: 80%;
            max-width: 800px;
            background-color: #fff;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            margin: 0 auto 20px auto; /* Centered */
            transition: background-color 0.3s, color 0.3s;
        }

        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 20px;
            transition: color 0.3s;
        }

        .links {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            padding: 20px 0;
        }

        .link-item {
            background-color: #f9f9f9;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
            text-align: center;
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: background-color 0.3s, box-shadow 0.3s;
            text-decoration: none;
            color: inherit;
        }
        
        .link-item:hover {
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
            text-decoration: none;
        }

        body.dark-mode .link-item:hover {
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.2);
        }

        .link-item-header {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 5px;
            width: 100%;
        }

        .link-item-header a {
            /* margin-right: 10px; */ /* LTR/RTL */
            text-decoration: none;
            color: #007bff;
            font-weight: bold;
            transition: color 0.3s;
        }
        [dir="ltr"] .link-item-header a { margin-right: 10px; }
        [dir="rtl"] .link-item-header a { margin-left: 10px; }

        .link-item-header a:hover {
            color: #0056b3;
            text-decoration: underline;
        }

        .heart-icon {
            cursor: pointer;
            font-size: 2.5em;
            color: #ccc;
            transition: color 0.2s ease-in-out;
            line-height: 1;
            /* margin-left/right will be handled by LTR/RTL rules below */
        }
        [dir="ltr"] .heart-icon { margin-left: 10px; }
        [dir="rtl"] .heart-icon { margin-right: 10px; }

        .heart-icon.favorited {
            color: red;
        }

        .link-item > span {
            display: block;
            font-size: 0.9em;
            color: #555;
            margin-top: 5px;
            width: 100%;
            transition: color 0.3s;
        }

        a {
            text-decoration: none;
            color: #007bff;
            font-weight: bold;
            transition: color 0.3s;
        }

        a:hover {
            color: #0056b3;
            text-decoration: underline;
        }

        .lang-switcher {
            text-align: center;
            margin-bottom: 20px;
        }

        .lang-switcher button, .theme-toggle-button-main {
            padding: 8px 15px;
            margin: 0 5px;
            cursor: pointer;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
            border-radius: 4px;
            transition: background-color 0.3s, color 0.3s, border-color 0.3s;
        }
        .lang-switcher button:hover, .theme-toggle-button-main:hover {
            background-color: #eee;
        }

         /* --- START DARK MODE --- */
         body.dark-mode {
            background-color: #1a1a1a;
            color: #f1f1f1;
        }
          /* Dark mode for Navigation */
          body.dark-mode .menu-icon span { background-color: #f1f1f1; }
          body.dark-mode #sidebar { background-color: #2c2c2c; color: #f1f1f1; box-shadow: 2px 0 5px rgba(255,255,255,0.1); }
          [dir="rtl"] body.dark-mode #sidebar { box-shadow: -2px 0 5px rgba(255,255,255,0.1); }
          body.dark-mode #sidebar li a { color: #f1f1f1; border-bottom: 1px solid #444; }
          body.dark-mode #sidebar li a:hover { background-color: #444; }

        body.dark-mode .container {
            background-color: #2c2c2c;
            color: #f1f1f1;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.1);
        }
        body.dark-mode h1 {
            color: #f1f1f1;
        }
        body.dark-mode .link-item {
            background-color: #3a3a3a;
            box-shadow: 0 0 5px rgba(255, 255, 255, 0.1);
        }
        body.dark-mode a {
            color: #5cadff;
        }
         body.dark-mode a:hover {
            color: #8ecaff;
        }
        body.dark-mode .link-item > span {
            color: #ccc;
        }
        body.dark-mode .lang-switcher button, body.dark-mode .theme-toggle-button-main {
             background-color: #555;
             color: #f1f1f1;
             border: 1px solid #777;
        }
        body.dark-mode .lang-switcher button:hover, body.dark-mode .theme-toggle-button-main:hover {
             background-color: #666;
        }
         /* --- END DARK MODE --- */
    </style>
</head>
<body>
    <!-- Navigation Sidebar -->
    <div class="menu-icon" id="menu-icon">
        <span></span>
        <span></span>
        <span></span>
    </div>
    <div id="sidebar">
        <ul>
            <li><a href="index.html" data-lang-ar="الرئيسية" data-lang-en="Home">Home</a></li>
            <li><a href="favorites.html" data-lang-ar="المفضلات" data-lang-en="Favorites">Favorites</a></li>
            <!-- Add other common links here -->
        </ul>
    </div>

    <div class="container">
        <div class="lang-switcher">
            <button id="lang-ar">العربية</button>
            <button id="lang-en">English</button>
            <button class="theme-toggle-button-main" id="theme-toggle" data-lang-ar="تبديل الوضع" data-lang-en="Toggle Theme">Toggle Theme</button>
        </div>
        <h1 data-lang-ar="مواقع حكومية" data-lang-en="Government Sites">Government Sites</h1>
        <div class="links">
            <a href="https://www.belastingdienst.nl/wps/wcm/connect/nl/home/home" target="_blank" class="link-item" data-id="belastingdienst">
                <div class="link-item-header">
                    <span data-lang-ar="مصلحة الضرائب" data-lang-en="Tax Authorities">Belastingdienst</span>
                    <span class="heart-icon">♡</span>
                </div>
                <img src="imags/belastingdienst.png" alt="شعار مصلحة الضرائب الهولندية (Belastingdienst)" style="width: 100%; max-width: 150px; height: auto; margin-top: 10px; margin-bottom: 10px;">
                <span data-lang-ar="الموقع الرسمي لمصلحة الضرائب الهولندية." data-lang-en="Official website of the Dutch Tax and Customs Administration.">Official website of the Dutch Tax and Customs Administration.</span>
            </a>

            <a href="https://mijn.overheid.nl/" target="_blank" class="link-item" data-id="mijn-overheid">
                <div class="link-item-header">
                    <span data-lang-ar="Mijn Overheid" data-lang-en="Mijn Overheid">Mijn Overheid</span>
                    <span class="heart-icon">♡</span>
                </div>
                <span data-lang-ar="هذا الموقع يتيح للمواطنين في هولندا الوصول إلى معلومات حكومية هامة وإجراء المعاملات الحكومية الرقمية. يشمل ذلك مجالات مثل الضرائب، الرعاية الصحية، المعاشات، والوظائف. يمكن للمستخدمين إدارة حساباتهم الحكومية بأمان وسهولة عبر الموقع." data-lang-en="This site allows citizens in the Netherlands to access important government information and conduct digital government transactions. This includes areas such as taxes, healthcare, pensions, and jobs. Users can securely and easily manage their government accounts through the site."></span>
            </a>
            <div class="link-item" data-id="mijn-ind">
                <div class="link-item-header">
                    <a href="https://ind.nl/nl/mijn-ind" target="_blank" data-lang-ar="Mijn IND" data-lang-en="Mijn IND">Mijn IND</a>
                    <span class="heart-icon">♡</span>
                </div>
                <span data-lang-ar="هذا الموقع يتيح للمستخدمين متابعة وإدارة طلبات الإقامة والهجرة في هولندا، مثل تحديث البيانات الشخصية، تحميل المستندات، ومتابعة حالة الطلبات بشكل آمن وسهل." data-lang-en="This site allows users to track and manage residency and immigration applications in the Netherlands, such as updating personal data, uploading documents, and securely and easily monitoring application status."></span>
            </div>
            <!-- New Government Site Link -->
            <div class="link-item" data-id="government-nl">
                <div class="link-item-header">
                    <a href="https://www.government.nl/" target="_blank" data-lang-ar="حكومة هولندا" data-lang-en="Government of the Netherlands">Government of the Netherlands</a>
                    <span class="heart-icon">♡</span>
                </div>
                <!-- Optional: Add description here inside a span with data-lang attributes if needed -->
                 <span data-lang-ar="الموقع الرسمي لحكومة هولندا باللغة الإنجليزية، يوفر معلومات عن السياسات والأخبار والوزارات والخدمات." data-lang-en="The official website of the Government of the Netherlands in English, providing information on policies, news, ministries, and services."></span>
            </div>
            <div class="link-item" data-id="rijksoverheid">
                 <div class="link-item-header">
                     <a href="https://www.rijksoverheid.nl/" target="_blank" data-lang-ar="الحكومة المركزية (Rijksoverheid)" data-lang-en="Central Government (Rijksoverheid)">Central Government (Rijksoverheid)</a>
                     <span class="heart-icon">♡</span>
                 </div>
                  <img src="imags/rijksoverheid.png" alt="شعار الحكومة المركزية الهولندية (Rijksoverheid)" style="width: 100%; max-width: 150px; height: auto; margin-top: 10px; margin-bottom: 10px;"> 
                 <span data-lang-ar="الموقع الرسمي للحكومة الهولندية." data-lang-en="Official website of the Dutch central government.">Official website of the Dutch central government.</span>
            </div>
        </div>
    </div>
    <script>
        const translatableElementsStatic = Array.from(document.querySelectorAll('[data-lang-ar]'));
        const btnAr = document.getElementById('lang-ar');
        const btnEn = document.getElementById('lang-en');
        const themeToggleButton = document.getElementById('theme-toggle');
        const titleElement = document.querySelector('title');
        let currentLang = document.documentElement.lang || 'ar';

        const translations = {
            "Government Sites": { ar: "مواقع حكومية", en: "Government Sites" },
            "Tax Authorities": { ar: "مصلحة الضرائب", en: "Tax Authorities" },
            "Mijn Overheid": { ar: "Mijn Overheid", en: "Mijn Overheid" },
            "This site allows citizens...": { ar: "هذا الموقع يتيح للمواطنين في هولندا الوصول إلى معلومات حكومية هامة وإجراء المعاملات الحكومية الرقمية. يشمل ذلك مجالات مثل الضرائب، الرعاية الصحية، المعاشات، والوظائف. يمكن للمستخدمين إدارة حساباتهم الحكومية بأمان وسهولة عبر الموقع.", en: "This site allows citizens in the Netherlands to access important government information and conduct digital government transactions. This includes areas such as taxes, healthcare, pensions, and jobs. Users can securely and easily manage their government accounts through the site." },
            "Mijn IND": { ar: "Mijn IND", en: "Mijn IND" },
            "This site allows users to track...": { ar: "هذا الموقع يتيح للمستخدمين متابعة وإدارة طلبات الإقامة والهجرة في هولندا، مثل تحديث البيانات الشخصية، تحميل المستندات، ومتابعة حالة الطلبات بشكل آمن وسهل.", en: "This site allows users to track and manage residency and immigration applications in the Netherlands, such as updating personal data, uploading documents, and securely and easily monitoring application status." },
            "Toggle Theme": { ar: "تبديل الوضع", en: "Toggle Theme"},
            "Home": { ar: "الرئيسية", en: "Home" },
            "Favorites": { ar: "المفضلات", en: "Favorites" }
        };

        function updateToggleButtonText() {
            if (btnAr) btnAr.textContent = "العربية";
            if (btnEn) btnEn.textContent = "English";
            const isDarkMode = document.body.classList.contains('dark-mode');
            const key = "Toggle Theme";
            let buttonText = translations[key] ? (translations[key][currentLang] || translations[key]['en']) : "Toggle Theme";
            if (themeToggleButton) themeToggleButton.textContent = buttonText;
        }

        function setLanguage(lang) {
            currentLang = lang;
            translatableElementsStatic.forEach(el => {
                if (el.id === 'theme-toggle' || el.closest('.lang-switcher')) return;
                const key = el.dataset.langEn || el.textContent;

                if (el.closest('.link-item')) {
                    updateLinkItemLanguage(el.closest('.link-item'), lang);
                } else {
                    if (translations[key] && translations[key][lang]) {
                        if (el.tagName.toLowerCase() === 'title') document.title = translations[key][lang];
                        else el.textContent = translations[key][lang];
                    } else if (lang === 'en' && key) {
                        if (el.tagName.toLowerCase() === 'title') document.title = key;
                        else el.textContent = key;
                    } else if (lang === 'ar' && el.dataset.langAr) {
                        if (el.tagName.toLowerCase() === 'title') document.title = el.dataset.langAr;
                        else el.textContent = el.dataset.langAr;
                    }
                }
            });
            initializeHearts();
            document.documentElement.lang = lang;
            document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
            localStorage.setItem('preferredLanguage', lang);
            updateToggleButtonText();
        }

        btnAr.addEventListener('click', () => setLanguage('ar'));
        btnEn.addEventListener('click', () => setLanguage('en'));

        const currentTheme = localStorage.getItem('theme');
        if (currentTheme === 'dark') {
            document.body.classList.add('dark-mode');
        }
        updateToggleButtonText();

        if (themeToggleButton) {
            themeToggleButton.addEventListener('click', () => {
                document.body.classList.toggle('dark-mode');
                let newTheme = document.body.classList.contains('dark-mode') ? 'dark' : 'light';
                localStorage.setItem('theme', newTheme);
                updateToggleButtonText();
            });
        }

        const favoritesKey = 'userFavorites';
        function getFavorites() {
            const favorites = localStorage.getItem(favoritesKey);
            return favorites ? JSON.parse(favorites) : [];
        }

        function saveFavorites(favorites) {
            localStorage.setItem(favoritesKey, JSON.stringify(favorites));
        }

        function toggleFavorite(itemId, itemData) {
            let favorites = getFavorites();
            const existingIndex = favorites.findIndex(fav => fav.id === itemId);

            if (existingIndex > -1) {
                favorites.splice(existingIndex, 1);
            } else {
                if(itemData) favorites.push(itemData);
            }
            saveFavorites(favorites);
        }

        function updateLinkItemLanguage(linkItem, lang) {
            const link = linkItem.querySelector('a');
            const descriptionSpan = linkItem.querySelector(':scope > span:not(.heart-icon)');
            if(link) {
                const linkKey = link.dataset.langEn;
                if(translations[linkKey] && translations[linkKey][lang]) link.textContent = translations[linkKey][lang];
                else if (lang === 'en' && linkKey) link.textContent = linkKey;
                else if (lang === 'ar' && link.dataset.langAr) link.textContent = link.dataset.langAr;
            }
            if(descriptionSpan) {
                const descKey = descriptionSpan.dataset.langEn;
                const simplifiedKey = "This site allows citizens...";
                if(translations[descKey] && translations[descKey][lang]) descriptionSpan.textContent = translations[descKey][lang];
                else if (translations[simplifiedKey] && translations[simplifiedKey][lang]) descriptionSpan.textContent = translations[simplifiedKey][lang];
                else if (lang === 'en' && (descKey || simplifiedKey)) descriptionSpan.textContent = descKey || simplifiedKey;
                else if (lang === 'ar' && descriptionSpan.dataset.langAr) descriptionSpan.textContent = descriptionSpan.dataset.langAr;
                else descriptionSpan.textContent = '';
            }
        }

        document.querySelectorAll('.heart-icon').forEach(icon => {
            icon.addEventListener('click', (event) => {
                event.stopPropagation();
                const linkItem = icon.closest('.link-item');
                const header = icon.closest('.link-item-header');
                const link = header?.querySelector('a');
                const descriptionSpan = linkItem?.querySelector(':scope > span:not(.heart-icon)');
                const itemId = linkItem?.getAttribute('data-id');
                
                if (!linkItem || !link || !itemId) return;

                const isFavorited = icon.classList.toggle('favorited');
                icon.textContent = isFavorited ? '♥' : '♡';

                let itemData = null;
                if (isFavorited) {
                    itemData = {
                        id: itemId,
                        href: link.getAttribute('href'),
                        ar: link.getAttribute('data-lang-ar'),
                        en: link.getAttribute('data-lang-en'),
                        desc_ar: descriptionSpan?.getAttribute('data-lang-ar'),
                        desc_en: descriptionSpan?.getAttribute('data-lang-en')
                    };
                }

                toggleFavorite(itemId, itemData);
            });
        });

        function initializeHearts() {
            const favorites = getFavorites();
            const favoriteIds = favorites.map(fav => fav.id);

            document.querySelectorAll('.link-item').forEach(item => {
                updateLinkItemLanguage(item, currentLang);
                const itemId = item.getAttribute('data-id');
                const heartIcon = item.querySelector('.heart-icon');
                if (heartIcon) {
                    if (favoriteIds.includes(itemId)) {
                        heartIcon.classList.add('favorited');
                        heartIcon.textContent = '♥';
                    } else {
                        heartIcon.classList.remove('favorited');
                        heartIcon.textContent = '♡';
                    }
                }
            });
        }

        const preferredLanguage = localStorage.getItem('preferredLanguage');
        setLanguage(preferredLanguage || 'ar');

        // Translate sidebar links
        document.querySelectorAll('#sidebar a[data-lang-en]').forEach(el => {
            const key = el.dataset.langEn;
            if (translations[key] && translations[key][lang]) {
                el.textContent = translations[key][lang];
            } else if (lang === 'en' && key) {
                el.textContent = key;
            } else if (lang === 'ar' && el.dataset.langAr) {
                el.textContent = el.dataset.langAr;
            }
        });

        // --- START Navigation Sidebar Logic --- //
        const menuIcon = document.getElementById('menu-icon');
        const sidebar = document.getElementById('sidebar');

        if(menuIcon && sidebar) {
            menuIcon.addEventListener('click', () => {
                sidebar.classList.toggle('open');
            });

            // Optional: Close sidebar when clicking outside of it
            document.addEventListener('click', (event) => {
                if (!sidebar.contains(event.target) && !menuIcon.contains(event.target) && sidebar.classList.contains('open')) {
                    sidebar.classList.remove('open');
                }
            });
        }
        // --- END Navigation Sidebar Logic --- //
    </script>
</body>
</html> 