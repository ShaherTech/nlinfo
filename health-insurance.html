<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-lang-ar="الصحة والتأمينات" data-lang-en="Health and Insurance">Health and Insurance</title>
    <meta name="description" content="معلومات وروابط حول نظام التأمين الصحي في هولندا، كيفية اختيار التأمين، والمواقع الهامة ذات الصلة.">
    <style>
        /* Default Light Mode Styles */
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            color: #333;
            margin: 0;
            /* padding: 0; */ /* Removed */
            /* display: flex; */ /* Removed */
            /* justify-content: center; */
            /* align-items: flex-start; */
            min-height: 100vh;
            position: relative; /* Needed for menu */
            padding-top: 60px; /* Space for menu */
            transition: background-color 0.3s, color 0.3s;
        }

        /* --- START NAVIGATION SIDEBAR STYLES --- */
        .menu-icon {
            position: absolute; top: 15px; left: 15px; width: 30px; height: 22px;
            cursor: pointer; z-index: 1001; display: flex; flex-direction: column;
            justify-content: space-between;
        }
        .menu-icon span { display: block; height: 3px; width: 100%; background-color: #333; border-radius: 3px; transition: background-color 0.3s; }
        #sidebar {
            position: fixed; top: 0; left: -250px; width: 250px; height: 100%;
            background-color: #fff; color: #333; box-shadow: 2px 0 5px rgba(0,0,0,0.2);
            padding-top: 60px; transition: left 0.3s ease-in-out, background-color 0.3s, color 0.3s;
            z-index: 1000; display: flex; flex-direction: column;
        }
        #sidebar.open { left: 0; }
        #sidebar ul { list-style: none; padding: 0; margin: 0; }
        #sidebar li a { display: block; padding: 15px 20px; color: #333; text-decoration: none; border-bottom: 1px solid #eee; font-weight: bold; }
        #sidebar li a:hover { background-color: #f4f4f4; }
         /* RTL adjustments for sidebar */
         [dir="rtl"] .menu-icon { left: auto; right: 15px; }
         [dir="rtl"] #sidebar { left: auto; right: -250px; box-shadow: -2px 0 5px rgba(0,0,0,0.2); }
         [dir="rtl"] #sidebar.open { left: auto; right: 0; }
         [dir="rtl"] #sidebar li a { text-align: right; }
        /* --- END NAVIGATION SIDEBAR STYLES --- */

        .container {
            width: 80%;
            max-width: 800px;
            background-color: #fff;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            margin: 0 auto 20px auto; /* Centered */
            transition: background-color 0.3s, color 0.3s;
        }
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 20px;
            transition: color 0.3s;
        }
        .links {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            padding: 20px 0;
        }
        .link-item {
            background-color: #f9f9f9;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
            text-align: center;
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: background-color 0.3s, box-shadow 0.3s;
            text-decoration: none;
            color: inherit;
        }
        .link-item:hover {
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
            text-decoration: none;
        }
        .link-item-header {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 5px;
            width: 100%;
        }
        .link-item-header a {
            /* margin-right: 10px; */ /* LTR/RTL */
            text-decoration: none;
            color: #007bff;
            font-weight: bold;
            transition: color 0.3s;
        }
        [dir="ltr"] .link-item-header a { margin-right: 10px; }
        [dir="rtl"] .link-item-header a { margin-left: 10px; }

        .link-item-header a:hover {
            color: #0056b3;
            text-decoration: underline;
        }
        .heart-icon {
            cursor: pointer;
            font-size: 2.5em;
            color: #ccc;
            transition: color 0.2s ease-in-out;
            line-height: 1;
            /* margin-left/right will be handled by LTR/RTL rules below */
        }
        [dir="ltr"] .heart-icon { margin-left: 10px; }
        [dir="rtl"] .heart-icon { margin-right: 10px; }
        .heart-icon.favorited {
            color: red;
        }
        .link-item > span {
            display: block;
            font-size: 0.9em;
            color: #555;
            margin-top: 5px;
            width: 100%;
            transition: color 0.3s;
        }
        a {
            text-decoration: none;
            color: #007bff;
            font-weight: bold;
            transition: color 0.3s;
        }
        a:hover {
            color: #0056b3;
            text-decoration: underline;
        }
        .lang-switcher {
            text-align: center;
            margin-bottom: 20px;
        }
        .lang-switcher button, .theme-toggle-button-main {
            padding: 8px 15px;
            margin: 0 5px;
            cursor: pointer;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
            border-radius: 4px;
            transition: background-color 0.3s, color 0.3s, border-color 0.3s;
        }
        .lang-switcher button:hover, .theme-toggle-button-main:hover {
            background-color: #eee;
        }

         /* --- START THEME TOGGLE & DARK MODE --- */
         body.dark-mode {
            background-color: #1a1a1a;
            color: #f1f1f1;
        }
         /* Dark mode for Navigation */
         body.dark-mode .menu-icon span { background-color: #f1f1f1; }
         body.dark-mode #sidebar { background-color: #2c2c2c; color: #f1f1f1; box-shadow: 2px 0 5px rgba(255,255,255,0.1); }
         [dir="rtl"] body.dark-mode #sidebar { box-shadow: -2px 0 5px rgba(255,255,255,0.1); }
         body.dark-mode #sidebar li a { color: #f1f1f1; border-bottom: 1px solid #444; }
         body.dark-mode #sidebar li a:hover { background-color: #444; }

        body.dark-mode .container {
            background-color: #2c2c2c;
            color: #f1f1f1;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.1);
        }
        body.dark-mode h1 {
            color: #f1f1f1;
        }
        body.dark-mode .link-item {
            background-color: #3a3a3a;
            box-shadow: 0 0 5px rgba(255, 255, 255, 0.1);
        }
        body.dark-mode a {
            color: #5cadff;
        }
         body.dark-mode a:hover {
            color: #8ecaff;
        }
        body.dark-mode .link-item > span {
            color: #ccc;
        }
        /* Dark mode for lang/theme buttons */
        body.dark-mode .lang-switcher button, body.dark-mode .theme-toggle-button-main {
             background-color: #555;
             color: #f1f1f1;
             border: 1px solid #777;
        }
        body.dark-mode .lang-switcher button:hover, body.dark-mode .theme-toggle-button-main:hover {
             background-color: #666;
        }
        /* --- END THEME TOGGLE & DARK MODE --- */
    </style>
</head>
<body>
    <!-- Navigation Sidebar -->
    <div class="menu-icon" id="menu-icon">
        <span></span>
        <span></span>
        <span></span>
    </div>
    <div id="sidebar">
        <ul>
            <li><a href="index.html" data-lang-ar="الرئيسية" data-lang-en="Home">Home</a></li>
            <li><a href="favorites.html" data-lang-ar="المفضلات" data-lang-en="Favorites">Favorites</a></li>
            <!-- Add other common links here -->
        </ul>
    </div>

    <div class="container">
        <div class="lang-switcher">
            <button id="lang-ar">العربية</button>
            <button id="lang-en">English</button>
            <button class="theme-toggle-button-main" id="theme-toggle" data-lang-ar="تبديل الوضع" data-lang-en="Toggle Theme">Toggle Theme</button>
        </div>
        <h1 data-lang-ar="الصحة والتأمينات" data-lang-en="Health and Insurance">Health and Insurance</h1>
        <div class="links">
            <a href="https://www.zanzu.nl/" target="_blank" class="link-item" data-id="zanzu">
                <div class="link-item-header">
                    <span data-lang-ar="Zanzu.nl" data-lang-en="Zanzu.nl">Zanzu.nl</span>
                    <span class="heart-icon">♡</span>
                </div>
                <span data-lang-ar="هذا الموقع يقدم معلومات موثوقة حول الصحة الجنسية والإنجابية بـ17 لغة. يشمل المواضيع المتعلقة بالجسم، النشاط الجنسي، العلاقات، تنظيم الأسرة، العدوى، والحقوق القانونية. يهدف الموقع إلى تعزيز الفهم والتواصل حول هذه المواضيع في هولندا، مع توفير موارد للمحترفين العاملين في هذا المجال." data-lang-en="This site provides reliable information about sexual and reproductive health in 17 languages. It covers topics related to the body, sexuality, relationships, family planning, infections, and legal rights. The site aims to promote understanding and communication about these topics in the Netherlands, while also providing resources for professionals working in this field."></span>
            </a>
            <a href="https://www.thuisarts.nl/" target="_blank" class="link-item" data-id="thuisarts">
                <div class="link-item-header">
                    <span data-lang-ar="Thuisarts.nl" data-lang-en="Thuisarts.nl">Thuisarts.nl</span>
                    <span class="heart-icon">♡</span>
                </div>
                <span data-lang-ar="هذا الموقع يقدم معلومات طبية موثوقة حول كيفية الحفاظ على الصحة، التعامل مع المرض، متى يجب زيارة الطبيب، وإجراءات زيارة المستشفى أو الأخصائيين مثل الأطباء النفسيين والعلاج الطبيعي. كما يوجه المستخدمين حول كيفية مساعدة الآخرين عندما يكونون مرضى." data-lang-en="This site provides reliable medical information on how to maintain health, deal with illness, when to visit a doctor, and procedures for visiting the hospital or specialists such as psychologists and physiotherapists. It also guides users on how to help others when they are ill."></span>
            </a>
            <a href="https://www.voedingscentrum.nl/nl/thema/kopen-koken-bewaren/eten-bewaren.aspx" target="_blank" class="link-item" data-id="eten-bewaren">
                <div class="link-item-header">
                    <span data-lang-ar="Eten bewaren" data-lang-en="Eten bewaren">Eten bewaren</span>
                    <span class="heart-icon">♡</span>
                </div>
                <span data-lang-ar="هذا الموقع يوفر إرشادات حول كيفية تخزين الطعام بشكل صحيح، بما في ذلك مدة صلاحية المنتجات بعد الفتح وأفضل أماكن التخزين مثل الثلاجة أو المجمدة أو المخزن. كما يقدم نصائح حول كيفية التعرف على فساد الطعام." data-lang-en="This site provides guidance on how to store food correctly, including the shelf life of products after opening and the best storage places such as the refrigerator, freezer, or pantry. It also offers tips on how to recognize food spoilage."></span>
            </a>
            <a href="https://www.voedingscentrum.nl/nl.aspx" target="_blank" class="link-item" data-id="voedingscentrum">
                <div class="link-item-header">
                    <span data-lang-ar="Voedingscentrum" data-lang-en="Voedingscentrum">Voedingscentrum</span>
                    <span class="heart-icon">♡</span>
                </div>
                <span data-lang-ar="هذا الموقع يقدم معلومات ونصائح حول كيفية تناول الطعام بشكل صحي وآمن، بالإضافة إلى طرق تحضير الطعام بطريقة مستدامة. يركز على تقديم إرشادات حول التغذية الجيدة وكيفية المحافظة على البيئة من خلال اختيارات غذائية مستدامة وآمنة." data-lang-en="This site provides information and advice on how to eat healthily and safely, as well as ways to prepare food sustainably. It focuses on providing guidance on good nutrition and how to preserve the environment through sustainable and safe food choices."></span>
            </a>
            <a href="https://www.independer.nl/inboedelverzekering/info/landing/sea/inboedelverzekering?refer=bingadswoneninboedel-ts22" target="_blank" class="link-item" data-id="independer-inboedel">
                <div class="link-item-header">
                    <span data-lang-ar="تأمينات" data-lang-en="Insurances">تأمينات</span>
                    <span class="heart-icon">♡</span>
                </div>
                <span data-lang-ar="هذا الموقع يتيح لك مقارنة أنواع مختلفة من التأمينات في هولندا، مثل تأمين المنزل، السيارة، الصحة، والمسؤولية، لمساعدتك في العثور على أفضل صفقة تناسب احتياجاتك." data-lang-en="This site allows you to compare different types of insurance in the Netherlands, such as home, car, health, and liability insurance, to help you find the best deal that suits your needs."></span>
            </a>
            <a href="https://www.3rod.nl/%D8%AA%D8%A3%D9%85%D9%8A%D9%86-%D8%A7%D9%84%D9%85%D8%B3%D8%A4%D9%88%D9%84%D9%8A%D8%A9-aansprakelijkheidsverzekering/" target="_blank" class="link-item" data-id="3rod-liability">
                <div class="link-item-header">
                    <span data-lang-ar="Aansprakelijkheidsverzekering" data-lang-en="Liability Insurance">Aansprakelijkheidsverzekering</span>
                    <span class="heart-icon">♡</span>
                </div>
                <span data-lang-ar="هذا الموقع يقدم تأمين المسؤولية الشخصية ضد الأضرار التي قد يتسبب فيها الشخص للآخرين. يشمل الأضرار المادية أو الجسدية التي قد تحدث للأشخاص أو الممتلكات، سواء في المنزل أو أثناء النشاطات اليومية. يهدف التأمين إلى حماية الشخص من المطالبات المالية التي قد تنتج عن حوادث غير متوقعة. ملاحظة هذا النوع من التأمينات مهم جدا وخاصة للأشخاص الذين عندهم اطفال." data-lang-en="This site offers personal liability insurance against damages that a person might cause to others. It covers material or physical damage that may occur to people or property, whether at home or during daily activities. The insurance aims to protect the individual from financial claims that may result from unexpected accidents. Note: This type of insurance is very important, especially for people with children."></span>
            </a>
            <a href="https://www.apotheek.nl/" target="_blank" class="link-item" data-id="apotheek">
                <div class="link-item-header">
                    <span data-lang-ar="apotheek" data-lang-en="apotheek">apotheek</span>
                    <span class="heart-icon">♡</span>
                </div>
                <span data-lang-ar="هذا الموقع يوفر معلومات موثوقة حول الأدوية، مقدمة من الصيادلة. يمكنك البحث عن معلومات تتعلق بالأدوية، الأعراض، الأمراض، أو الصيدليات. كما يقدم الموقع مقاطع فيديو تعليمية تشرح كيفية استخدام الأدوية بشكل صحيح، متاحة بعدة لغات بما في ذلك العربية" data-lang-en="This site provides reliable information about medicines, provided by pharmacists. You can search for information related to medicines, symptoms, diseases, or pharmacies. The site also offers educational videos explaining how to use medicines correctly, available in several languages, including Arabic."></span>
            </a>
        </div>
    </div>
    <script>
        const translatableElementsStatic = Array.from(document.querySelectorAll('[data-lang-ar]'));
        const btnAr = document.getElementById('lang-ar');
        const btnEn = document.getElementById('lang-en');
        const themeToggleButton = document.getElementById('theme-toggle');
        const titleElement = document.querySelector('title');
        let currentLang = document.documentElement.lang || 'ar';

        const translations = {
            "Health and Insurance": { ar: "الصحة والتأمينات", en: "Health and Insurance" },
            "Zanzu.nl": { ar: "Zanzu.nl", en: "Zanzu.nl" },
            "This site provides reliable information about sexual...": { ar: "هذا الموقع يقدم معلومات موثوقة حول الصحة الجنسية والإنجابية بـ17 لغة. يشمل المواضيع المتعلقة بالجسم، النشاط الجنسي، العلاقات، تنظيم الأسرة، العدوى، والحقوق القانونية. يهدف الموقع إلى تعزيز الفهم والتواصل حول هذه المواضيع في هولندا، مع توفير موارد للمحترفين العاملين في هذا المجال.", en: "This site provides reliable information about sexual and reproductive health in 17 languages. It covers topics related to the body, sexuality, relationships, family planning, infections, and legal rights. The site aims to promote understanding and communication about these topics in the Netherlands, while also providing resources for professionals working in this field." },
            "Thuisarts.nl": { ar: "Thuisarts.nl", en: "Thuisarts.nl" },
            "This site provides reliable medical information...": { ar: "هذا الموقع يقدم معلومات طبية موثوقة حول كيفية الحفاظ على الصحة، التعامل مع المرض، متى يجب زيارة الطبيب، وإجراءات زيارة المستشفى أو الأخصائيين مثل الأطباء النفسيين والعلاج الطبيعي. كما يوجه المستخدمين حول كيفية مساعدة الآخرين عندما يكونون مرضى.", en: "This site provides reliable medical information on how to maintain health, deal with illness, when to visit a doctor, and procedures for visiting the hospital or specialists such as psychologists and physiotherapists. It also guides users on how to help others when they are ill." },
            "Toggle Theme": { ar: "تبديل الوضع", en: "Toggle Theme"},
            "Eten bewaren": {ar: "حفظ الطعام", en: "Eten bewaren"},
            "This site provides guidance on how to store food correctly...": {ar: "هذا الموقع يوفر إرشادات حول كيفية تخزين الطعام بشكل صحيح، بما في ذلك مدة صلاحية المنتجات بعد الفتح وأفضل أماكن التخزين مثل الثلاجة أو المجمدة أو المخزن. كما يقدم نصائح حول كيفية التعرف على فساد الطعام.", en: "This site provides guidance on how to store food correctly, including the shelf life of products after opening and the best storage places such as the refrigerator, freezer, or pantry. It also offers tips on how to recognize food spoilage."},
            "Voedingscentrum": {ar: "مركز التغذية", en: "Voedingscentrum"},
            "This site provides information and advice...": {ar: "هذا الموقع يقدم معلومات ونصائح حول كيفية تناول الطعام بشكل صحي وآمن، بالإضافة إلى طرق تحضير الطعام بطريقة مستدامة. يركز على تقديم إرشادات حول التغذية الجيدة وكيفية المحافظة على البيئة من خلال اختيارات غذائية مستدامة وآمنة.", en: "This site provides information and advice on how to eat healthily and safely, as well as ways to prepare food sustainably. It focuses on providing guidance on good nutrition and how to preserve the environment through sustainable and safe food choices."},
            "Insurances": {ar: "تأمينات", en: "Insurances"},
            "This site allows you to compare...": {ar: "هذا الموقع يتيح لك مقارنة أنواع مختلفة من التأمينات في هولندا، مثل تأمين المنزل، السيارة، الصحة، والمسؤولية، لمساعدتك في العثور على أفضل صفقة تناسب احتياجاتك.", en: "This site allows you to compare different types of insurance in the Netherlands, such as home, car, health, and liability insurance, to help you find the best deal that suits your needs."},
            "Liability Insurance": {ar: "تأمين المسؤولية", en: "Liability Insurance"},
            "This site offers personal liability insurance...": {ar: "هذا الموقع يقدم تأمين المسؤولية الشخصية ضد الأضرار التي قد يتسبب فيها الشخص للآخرين. يشمل الأضرار المادية أو الجسدية التي قد تحدث للأشخاص أو الممتلكات، سواء في المنزل أو أثناء النشاطات اليومية. يهدف التأمين إلى حماية الشخص من المطالبات المالية التي قد تنتج عن حوادث غير متوقعة. ملاحظة هذا النوع من التأمينات مهم جدا وخاصة للأشخاص الذين عندهم اطفال.", en: "This site offers personal liability insurance against damages that a person might cause to others. It covers material or physical damage that may occur to people or property, whether at home or during daily activities. The insurance aims to protect the individual from financial claims that may result from unexpected accidents. Note: This type of insurance is very important, especially for people with children."},
            "apotheek": {ar: "الصيدلية", en: "apotheek"},
            "This site provides reliable information about medicines...": {ar: "هذا الموقع يوفر معلومات موثوقة حول الأدوية، مقدمة من الصيادلة. يمكنك البحث عن معلومات تتعلق بالأدوية، الأعراض، الأمراض، أو الصيدليات. كما يقدم الموقع مقاطع فيديو تعليمية تشرح كيفية استخدام الأدوية بشكل صحيح، متاحة بعدة لغات بما في ذلك العربية", en: "This site provides reliable information about medicines, provided by pharmacists. You can search for information related to medicines, symptoms, diseases, or pharmacies. The site also offers educational videos explaining how to use medicines correctly, available in several languages, including Arabic."},
            "Home": { ar: "الرئيسية", en: "Home" },
            "Favorites": { ar: "المفضلات", en: "Favorites" }
        };

        function updateToggleButtonText() {
            if (btnAr) btnAr.textContent = "العربية";
            if (btnEn) btnEn.textContent = "English";
            const isDarkMode = document.body.classList.contains('dark-mode');
            const key = "Toggle Theme";
            let buttonText = translations[key] ? (translations[key][currentLang] || translations[key]['en']) : "Toggle Theme";
            if (themeToggleButton) themeToggleButton.textContent = buttonText;
        }

        function setLanguage(lang) {
            currentLang = lang;
            translatableElementsStatic.forEach(el => {
                if (el.id === 'theme-toggle' || el.closest('.lang-switcher')) return;
                const key = el.dataset.langEn || el.textContent;

                if (el.closest('.link-item')) {
                    updateLinkItemLanguage(el.closest('.link-item'), lang);
                } else {
                    if (translations[key] && translations[key][lang]) {
                        if (el.tagName.toLowerCase() === 'title') document.title = translations[key][lang];
                        else el.textContent = translations[key][lang];
                    } else if (lang === 'en' && key) {
                        if (el.tagName.toLowerCase() === 'title') document.title = key;
                        else el.textContent = key;
                    } else if (lang === 'ar' && el.dataset.langAr) {
                        if (el.tagName.toLowerCase() === 'title') document.title = el.dataset.langAr;
                        else el.textContent = el.dataset.langAr;
                    }
                }
            });
            initializeHearts();
            document.documentElement.lang = lang;
            document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
            localStorage.setItem('preferredLanguage', lang);
            updateToggleButtonText();
        }

        btnAr.addEventListener('click', () => setLanguage('ar'));
        btnEn.addEventListener('click', () => setLanguage('en'));

        const currentTheme = localStorage.getItem('theme');
        if (currentTheme === 'dark') {
            document.body.classList.add('dark-mode');
        }
        updateToggleButtonText();

        if (themeToggleButton) {
            themeToggleButton.addEventListener('click', () => {
                document.body.classList.toggle('dark-mode');
                let newTheme = document.body.classList.contains('dark-mode') ? 'dark' : 'light';
                localStorage.setItem('theme', newTheme);
                updateToggleButtonText();
            });
        }

        const favoritesKey = 'userFavorites';
        function getFavorites() { const f = localStorage.getItem(favoritesKey); return f ? JSON.parse(f) : []; }
        function saveFavorites(f) { localStorage.setItem(favoritesKey, JSON.stringify(f)); }
        function toggleFavorite(id, data) { let f = getFavorites(); const idx = f.findIndex(fav => fav.id === id); if (idx > -1) { f.splice(idx, 1); } else { if(data) f.push(data); } saveFavorites(f); }
        function updateLinkItemLanguage(item, lang) {
            const link = item.querySelector('a');
            const desc = item.querySelector(':scope > span:not(.heart-icon)');
            if(link){
                const linkKey = link.dataset.langEn;
                if(translations[linkKey] && translations[linkKey][lang]) link.textContent = translations[linkKey][lang];
                else if (lang === 'en' && linkKey) link.textContent = linkKey;
                else if (lang === 'ar' && link.dataset.langAr) link.textContent = link.dataset.langAr;
            }
            if(desc){
                const descKey = desc.dataset.langEn;
                const simplifiedDescKey = "This site provides reliable information...";
                if(translations[descKey] && translations[descKey][lang]) desc.textContent = translations[descKey][lang];
                else if (translations[simplifiedDescKey] && translations[simplifiedDescKey][lang]) desc.textContent = translations[simplifiedDescKey][lang];
                else if (lang === 'en' && (descKey || simplifiedDescKey)) desc.textContent = descKey || simplifiedDescKey;
                else if (lang === 'ar' && desc.dataset.langAr) desc.textContent = desc.dataset.langAr;
                else desc.textContent = '';
            }
        }

        document.querySelectorAll('.heart-icon').forEach(icon => {
            icon.addEventListener('click', (event) => {
                event.stopPropagation();
                const linkItem = icon.closest('.link-item');
                const header = icon.closest('.link-item-header');
                const link = header?.querySelector('a');
                const descriptionSpan = linkItem?.querySelector(':scope > span:not(.heart-icon)');
                const itemId = linkItem?.getAttribute('data-id');
                if (!linkItem || !link || !itemId) return;
                const isFavorited = icon.classList.toggle('favorited');
                icon.textContent = isFavorited ? '♥' : '♡';
                let itemData = null;
                if (isFavorited) {
                    itemData = { id: itemId, href: link.getAttribute('href'), ar: link.getAttribute('data-lang-ar'), en: link.getAttribute('data-lang-en'), desc_ar: descriptionSpan?.getAttribute('data-lang-ar'), desc_en: descriptionSpan?.getAttribute('data-lang-en') };
                }
                toggleFavorite(itemId, itemData);
            });
        });

        function initializeHearts() {
            const favorites = getFavorites();
            const favoriteIds = favorites.map(fav => fav.id);
            document.querySelectorAll('.link-item').forEach(item => {
                updateLinkItemLanguage(item, currentLang);
                const itemId = item.getAttribute('data-id');
                const heartIcon = item.querySelector('.heart-icon');
                if (heartIcon) {
                    if (favoriteIds.includes(itemId)) { heartIcon.classList.add('favorited'); heartIcon.textContent = '♥'; } 
                    else { heartIcon.classList.remove('favorited'); heartIcon.textContent = '♡'; }
                }
            });
        }

        const preferredLanguage = localStorage.getItem('preferredLanguage');
        setLanguage(preferredLanguage || 'ar');

        // Translate sidebar links
        document.querySelectorAll('#sidebar a[data-lang-en]').forEach(el => {
            const key = el.dataset.langEn;
            if (translations[key] && translations[key][lang]) {
                el.textContent = translations[key][lang];
            } else if (lang === 'en' && key) {
                el.textContent = key;
            } else if (lang === 'ar' && el.dataset.langAr) {
                el.textContent = el.dataset.langAr;
            }
        });

        // --- START Navigation Sidebar Logic --- //
        const menuIcon = document.getElementById('menu-icon');
        const sidebar = document.getElementById('sidebar');

        if(menuIcon && sidebar) {
            menuIcon.addEventListener('click', () => {
                sidebar.classList.toggle('open');
            });

            // Optional: Close sidebar when clicking outside of it
            document.addEventListener('click', (event) => {
                if (!sidebar.contains(event.target) && !menuIcon.contains(event.target) && sidebar.classList.contains('open')) {
                    sidebar.classList.remove('open');
                }
            });
        }
        // --- END Navigation Sidebar Logic --- //
    </script>
</body>
</html> 